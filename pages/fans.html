<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/fans.css">
  <link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">

  <title>Fans</title>
</head>
<body>
<header>
  <div class="container">
    <div class="header__inner">
      <button class="burger" onclick="toggleBurger()">
        <span class="burger__item">Menu</span>
      </button>
      <nav class="nav" id="nav">
        <a href="../index.html" class="links">Main</a>
        <div class="nav__dropdown">
          <a class="links">Matches</a>
          <div class="dropdown__content">
            <a href="matches.html" class="links">Calendar of matches</a>
            <div class="underline"></div>
            <a href="#" class="links">Next game</a>
            <a href="#" class="links">Raiting</a>
          </div>
        </div>
        <a href="news.html" class="links">News</a>
        <a href="fans.html" class="links active-link">Fans</a>
        <a href="contacts.html" class="links">Contacts</a>
        <a href="admin.html" class="links">Admin</a>
      </nav>
      <div>
        <a href="../index.html">
          <img src="../img/logo.png" alt="logo" class="header__logo">
        </a>
      </div>
    </div>
  </div>
</header>

<main class="main">
  <div class="container">
    <h1 class="main__title">Fans request</h1>
    <div class="posts">

      <div class="main__block">
        <div class="main__text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto beatae cumque
          cupiditate dicta dolore dolorum ea earum, eius fuga fugit illo illum in, ipsam libero nihil non odit optio,
          placeat possimus quae quas quasi quibusdam quidem quod ratione sed tenetur totam ullam velit voluptatibus.
          Architecto dignissimos Ad exercitationem ipsa omnis? Animi architecto consequuntur dolor, dolores, esse
          impedit
          labore minus non odio omnis quaerat qui quo quos reprehenderit sed? Eligendi, harum?
          <div class="main__detail">
            <div class="main__date">19.08.2021, 14:43</div>
            <div class="main__author">Valleyball Fan2021</div>
          </div>
        </div>
      </div>

      <div class="main__block">
        <div class="main__text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto beatae cumque
          cupiditate dicta dolore dolorum ea earum, eius fuga fugit illo illum in, ipsam libero nihil non odit optio,
          placeat possimus quae quas quasi quibusdam quidem quod ratione sed tenetur totam ullam velit voluptatibus.
          Architecto dignissimos Ad exercitationem ipsa omnis? Animi architecto consequuntur dolor, dolores, esse
          impedit
          labore minus non odio omnis quaerat qui quo quos reprehenderit sed? Eligendi, harum?
          <div class="main__detail">
            <div class="main__date">19.08.2021, 14:43</div>
            <div class="main__author">Valleyball Fan2021</div>
          </div>
        </div>
      </div>

    </div>

    <div class="main__block">
      <form onsubmit="formSubmit(); return false;" class="main__form" name="requestForm">
        <textarea required id="request" name="userRequest" placeholder="Write request here.."
                  class="main__textarea"></textarea>

        <input type="submit" value="Submit" class="button__submit">
      </form>
    </div>
  </div>
</main>

<footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <p class="footer__copyright">Â© 2021 WebUI Club. All right reserved.</p>
      <nav class="footer__nav">
        <a href="#" class="links">Policy</a>
      </nav>
    </div>
  </div>
</footer>

<script>
  let toggleBurger = () => {
    document.getElementById('nav').classList.toggle('visible');
    document.querySelector('.burger').classList.toggle('active')
  }

  let formSubmit = () => {
    let text, author;
    let dateNow = new Date();
    let myForm = document.forms[0];

    text = myForm.userRequest.value
    if (text === '' || text === null || text === undefined) return false;
    if (!author) author = "Guest"

    let date = dateNow
      .toISOString()
      .slice(0, 10)
      .split('-')
      .reverse()
      .join('.');
    let fullDate = `${date}, ${dateNow.getHours()}:${dateNow.getMinutes()}`

    const posts = document.querySelector(".posts");
    const mainBlock = createElementWithClass('div', 'main__block');
    const mainText = createElementWithClass('div', 'main__text');
    const mainDetail = createElementWithClass('div', 'main__detail');
    const mainDate = createElementWithClass('div', 'main__date');
    const mainAuthor = createElementWithClass('div', 'main__author');

    mainDate.append(fullDate);
    mainAuthor.append(author)
    mainDetail.appendChild(mainDate)
    mainDetail.appendChild(mainAuthor)
    mainText.append(text)
    mainBlock.appendChild(mainText)
    mainBlock.appendChild(mainDetail)
    posts.appendChild(mainBlock)

    function createElementWithClass(elementTag, className) {
      const element = document.createElement(elementTag);
      element.classList.add(className);
      return element;
    }
  }
</script>
</body>
</html>